---
updateTime: '2025-09-09 11:40'
tags: 计算机网络
---

### 什么是 TCP（传输控制协议）

TCP（Transmission Control Protocol）是一种面向连接的、**可靠的**、**基于字节流**的传输层通信协议。

- **面向连接**：在进行数据传输前，通信双方需要先通过三次握手建立连接，确保双方都准备好进行通信，这就好比打电话前先拨通号码建立通话线路一样。数据传输完毕后，还会通过四次挥手来断开连接，释放相关资源。
- **可靠传输**：它采用了很多机制来保证数据可靠地从发送端到达接收端。例如，通过确认应答机制，接收方收到数据后会向发送方回复确认消息，发送方若未收到确认会重发数据；还有序列号与确认应答号机制，便于对数据的顺序和完整性进行校验；以及超时重传机制，若在一定时间内没收到确认就重发数据等。
- **基于字节流**：数据被看作是无结构的字节流，发送端和接收端按顺序依次处理字节，没有明显的消息边界区分，应用层交给 TCP 的数据会被当成连续的字节流进行传输和处理。

TCP 常用于对数据准确性要求较高、需要确保数据完整有序到达的应用场景，比如网页浏览（HTTP 协议通常基于 TCP）、文件传输（FTP 协议基于 TCP）等。

### 什么是 UDP（用户数据报协议）

UDP（User Datagram Protocol）是一种无连接的、不可靠的传输层协议。

- **无连接**：不需要像 TCP 那样事先建立连接，发送端可以随时向接收端发送数据报，就如同寄明信片一样，不需要提前和对方打招呼确认连接，直接就可以发送，这使得通信的延迟相对较低，开销也小。
- **不可靠**：它不保证数据一定能准确无误地到达接收端，也不保证数据的顺序性，数据报可能会丢失、重复或者乱序到达接收端，不过在一些特定应用场景下，这样的特性是可以被接受的。
- **面向报文**：应用层交给 UDP 多长的报文，UDP 就照样发送，既不会拆分也不会合并，保留了报文的边界信息，接收方收到的就是一个个完整的报文。

UDP 常用于对实时性要求较高、对少量数据丢失不太敏感的场景，比如**实时视频通话、在线游戏等**，因为这些场景更注重实时性，偶尔少量数据丢失对整体体验影响不大。

### TCP 和 UDP 的区别

#### 连接性方面

- **TCP**：是面向连接的协议，通信前必须建立连接，结束后要断开连接。
- **UDP**：是**无连接协议，随时可以发送和接收数据报**，无需建立和拆除连接的过程。

#### 可靠性方面

- **TCP**：通过多种机制确保数据可靠传输，如确认应答、序列号、超时重传等，能保证数据准确无误且按顺序到达接收端。
- **UDP**：不提供可靠传输保障，数据可能丢失、重复或者乱序到达接收端，发送方无法确切知晓接收情况。

#### 传输效率方面

- **TCP**：由于要建立和维护连接，还要进行大量的可靠性校验等操作，额外开销较大，传输效率相对较低。
- **UDP**：没有复杂的连接建立和可靠性保障机制，数据传输的开销小，传输速度往往更快，延迟相对较低，实时性好。

#### 应用场景方面

- **TCP**：适用于对数据准确性、完整性要求高的场景，像网页浏览、文件传输、电子邮件传输等应用。
- **UDP**：常用于对实时性要求高、允许一定程度的数据丢失的场景，比如实时视频音频流传输、在线游戏、网络广播等。

#### 数据处理方式方面

- **TCP**：基于字节流，把数据看成连续的字节流进行处理，没有明显的消息边界区分。
- **UDP**：面向报文，发送和接收的数据报保持了应用层交给它时的报文边界，不做拆分或合并等处理。
